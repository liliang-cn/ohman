# Oh Man! ğŸ¤¯

> è®© man é¡µé¢ä¸å†éš¾æ‡‚ â€” AI é©±åŠ¨çš„å‘½ä»¤è¡ŒåŠ©æ‰‹

`ohman` æ˜¯ä¸€ä¸ªç”±å¤§è¯­è¨€æ¨¡å‹é©±åŠ¨çš„æ™ºèƒ½å‘½ä»¤è¡ŒåŠ©æ‰‹ã€‚å®ƒç»“åˆäº†ä¼ ç»Ÿçš„ `man` é¡µé¢å’Œ AIï¼Œè®©ä½ å¯ä»¥ç”¨è‡ªç„¶è¯­è¨€è¯¢é—®å‘½ä»¤ç”¨æ³•å’Œå‚æ•°ï¼Œç”šè‡³åœ¨å‘½ä»¤å¤±è´¥æ—¶è·å¾—è‡ªåŠ¨ä¿®å¤å»ºè®®ã€‚

## âœ¨ ç‰¹æ€§

- ğŸ” **æ™ºèƒ½é—®ç­”**: ç”¨è‡ªç„¶è¯­è¨€è¯¢é—®ä»»ä½•å‘½ä»¤çš„ä½¿ç”¨æ–¹æ³•
- ğŸ”§ **å¤±è´¥è¯Šæ–­**: è‡ªåŠ¨è¯Šæ–­ä¸Šä¸€ä¸ªå¤±è´¥çš„å‘½ä»¤å¹¶ç»™å‡ºä¿®å¤å»ºè®®
- ğŸ’¬ **é”™è¯¯åˆ†æ**: ç›´æ¥ç²˜è´´é”™è¯¯æ¶ˆæ¯ï¼Œç«‹å³è·å¾—åˆ†æå’Œè§£å†³æ–¹æ¡ˆ
- ğŸ“ **ä¼šè¯å†å²**: ä½¿ç”¨ `ohman history` å’Œ `ohman clear` æŸ¥çœ‹å’Œç®¡ç†æŸ¥è¯¢å†å²
- ğŸ“¡ **æµå¼è¾“å‡º**: å®æ—¶æµå¼å“åº”ï¼Œæä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ
- ğŸ¯ **OpenAI å…¼å®¹**: æ”¯æŒä»»ä½• OpenAI å…¼å®¹çš„ APIï¼ˆOpenAIã€DeepSeekã€Ollama ç­‰ï¼‰
- ğŸ–¥ï¸ **è·¨å¹³å°**: æ”¯æŒ Linux å’Œ macOS
- ğŸ†˜ **æ™ºèƒ½é™çº§**: å½“ man é¡µé¢ä¸å¯ç”¨æ—¶ï¼Œè‡ªåŠ¨å°è¯• `--help` æ ‡å¿—

## ğŸ“¦ å®‰è£…

### ä½¿ç”¨ Go

```bash
go install github.com/liliang-cn/ohman@latest
```

### ä»æºç æ„å»º

```bash
git clone https://github.com/liliang-cn/ohman.git
cd ohman
make build
sudo make install
```

### ä¸‹è½½é¢„ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶

ä» [Releases](https://github.com/liliang-cn/ohman/releases) é¡µé¢ä¸‹è½½é€‚åˆä½ å¹³å°çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. é…ç½® LLM

é¦–æ¬¡ä½¿ç”¨éœ€è¦é…ç½® LLMï¼š

```bash
ohman config
```

æˆ–æ‰‹åŠ¨ç¼–è¾‘é…ç½®æ–‡ä»¶ `~/.config/ohman/config.yaml`ï¼š

```yaml
llm:
  api_key: sk-xxx # ä½ çš„ API Key
  base_url: "" # å¯é€‰ï¼Œç”¨äº OpenAI å…¼å®¹çš„ APIï¼ˆå¦‚ https://api.deepseek.com/v1ï¼‰
  model: gpt-4o-mini # æ¨¡å‹åç§°
  max_tokens: 4096 # æœ€å¤§è¾“å‡º token æ•°
  temperature: 0.7 # æ¸©åº¦å‚æ•°
  timeout: 60 # è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰

shell:
  history_file: "" # ç•™ç©ºä»¥è‡ªåŠ¨æ£€æµ‹

output:
  color: true # å½©è‰²è¾“å‡º
  markdown: true # Markdown æ¸²æŸ“
```

### ä½¿ç”¨ä¸åŒçš„æœåŠ¡æä¾›å•†

**OpenAIï¼ˆé»˜è®¤ï¼‰ï¼š**

```yaml
llm:
  api_key: sk-xxx
  model: gpt-4o-mini
```

**DeepSeekï¼š**

```yaml
llm:
  api_key: sk-xxx
  base_url: https://api.deepseek.com/v1
  model: deepseek-chat
```

**Azure OpenAIï¼š**

```yaml
llm:
  api_key: your-azure-key
  base_url: https://your-resource.openai.azure.com/openai/deployments/your-deployment
  model: gpt-4
```

**æœ¬åœ° LLMï¼ˆé€šè¿‡ OpenAI å…¼å®¹çš„æœåŠ¡å™¨ï¼Œå¦‚ LM Studioã€å¸¦ OpenAI API çš„ Ollamaï¼‰ï¼š**

```yaml
llm:
  api_key: not-needed
  base_url: http://localhost:1234/v1
  model: local-model
```

### 2. å¼€å§‹ä½¿ç”¨

```bash
# è¯¢é—® grep ç”¨æ³•
ohman grep "å¦‚ä½•é€’å½’æœç´¢ï¼Ÿ"

# è¯¢é—® tar å‚æ•°
ohman tar "xvf å‚æ•°æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ"

# å‘½ä»¤å¤±è´¥åè¿è¡Œ ohman è·å–å»ºè®®
$ tar -cvf backup  # å“å‘€ï¼Œå¿˜è®°æŒ‡å®šæ–‡ä»¶äº†
tar: Cowardly refusing to create an empty archive

$ ohman
# AI ä¼šåˆ†æå¤±è´¥çš„ tar å‘½ä»¤å¹¶å‘Šè¯‰ä½ æ­£ç¡®çš„ç”¨æ³•
```

## ğŸ“– ä½¿ç”¨æŒ‡å—

### åŸºæœ¬å‘½ä»¤æ ¼å¼

```
ohman [å‘½ä»¤] [é—®é¢˜]
```

| å‚æ•°     | æè¿°                                                         |
| -------- | ------------------------------------------------------------ |
| `å‘½ä»¤`   | è¦æŸ¥è¯¢çš„å‘½ä»¤åç§°ï¼ˆå¦‚ grepã€tarã€findï¼‰                        |
| `é—®é¢˜`   | ä½ çš„é—®é¢˜ï¼ˆå¯é€‰ï¼Œå¦‚æœçœç•¥åˆ™è¿›å…¥äº¤äº’æ¨¡å¼ï¼‰                     |

### ä½¿ç”¨åœºæ™¯

#### åœºæ™¯ 1ï¼šè¯¢é—®å‘½ä»¤å‚æ•°

```bash
ohman find "å¦‚ä½•æŸ¥æ‰¾ 7 å¤©å‰ä¿®æ”¹çš„æ–‡ä»¶å¹¶åˆ é™¤ï¼Ÿ"
```

#### åœºæ™¯ 2ï¼šç†è§£å¤æ‚å‘½ä»¤

```bash
ohman awk "è§£é‡Š NR å’Œ NF å˜é‡"
```

#### åœºæ™¯ 3ï¼šäº¤äº’å¼æ¢ç´¢

```bash
ohman git
# è¿›å…¥äº¤äº’æ¨¡å¼æŒç»­æé—®
> å¦‚ä½•æ’¤é”€æœ€åä¸€æ¬¡æäº¤ï¼Ÿ
> å¦‚ä½•æŸ¥çœ‹æ–‡ä»¶çš„ä¿®æ”¹å†å²ï¼Ÿ
> exit
```

#### åœºæ™¯ 4ï¼šå¤±è´¥å‘½ä»¤è¯Šæ–­

```bash
$ chmod 777 /etc/passwd
chmod: changing permissions of '/etc/passwd': Operation not permitted

$ ohman
# AI ä¼šè§£é‡Šä¸ºä»€ä¹ˆå¤±è´¥å¹¶æä¾›æ­£ç¡®çš„æ–¹æ³•
```

#### åœºæ™¯ 5ï¼šç›´æ¥é”™è¯¯æ¶ˆæ¯åˆ†æï¼ˆæ–°åŠŸèƒ½ï¼ï¼‰

```bash
# åªéœ€ç²˜è´´ä»»ä½•é”™è¯¯æ¶ˆæ¯
ohman "error: failed to push some refs to 'https://github.com/user/repo.git'"

ohman "bash: ./script.sh: Permission denied"

ohman "segmentation fault (core dumped)"
# AI ä¼šæ£€æµ‹é”™è¯¯å…³é”®è¯å¹¶æä¾›è§£å†³æ–¹æ¡ˆ
```

#### åœºæ™¯ 6ï¼šä¼šè¯ç®¡ç†

```bash
# æŸ¥çœ‹æŸ¥è¯¢å†å²
ohman history

# æ¸…ç©ºæ‰€æœ‰å†å²
ohman clear
```

### é«˜çº§ç”¨æ³•

#### æŒ‡å®š Man ç« èŠ‚

```bash
ohman -s 3 printf "C è¯­è¨€ printf æ ¼å¼åŒ–å­—ç¬¦ä¸²"
```

#### æŸ¥çœ‹åŸå§‹ Man å†…å®¹

```bash
ohman --raw grep
```

#### æŒ‡å®š LLM æ¨¡å‹

```bash
ohman --model gpt-4 find "å¤æ‚æŸ¥è¯¢"
```

## ğŸ”§ å‘½ä»¤å‚è€ƒ

```
ohman - AI é©±åŠ¨çš„ man é¡µé¢åŠ©æ‰‹

ç”¨æ³•:
  ohman [å‘½ä»¤] [é—®é¢˜]
  ohman [å‘½ä»¤]

å¯ç”¨å‘½ä»¤:
  clear       æ¸…ç©ºä¼šè¯ç¼“å­˜
  completion  ä¸ºæŒ‡å®šçš„ shell ç”Ÿæˆè‡ªåŠ¨è¡¥å…¨è„šæœ¬
  config      é…ç½® ohman
  help        å…³äºä»»ä½•å‘½ä»¤çš„å¸®åŠ©
  history     æŸ¥çœ‹ä¼šè¯å†å²

æ ‡å¿—:
  -c, --config string   é…ç½®æ–‡ä»¶è·¯å¾„
  -h, --help            ohman çš„å¸®åŠ©
  -i, --interactive     å¼ºåˆ¶äº¤äº’æ¨¡å¼
  -m, --model string    LLM æ¨¡å‹åç§°
  -r, --raw             ä»…æ˜¾ç¤ºåŸå§‹ man å†…å®¹
  -s, --section int     man é¡µé¢ç« èŠ‚ (1-8)
  -v, --verbose         è¯¦ç»†è¾“å‡º
      --version         ohman çš„ç‰ˆæœ¬

ç¤ºä¾‹:
  ohman grep "å¦‚ä½•åªæ˜¾ç¤ºåŒ¹é…çš„æ–‡ä»¶åï¼Ÿ"
  ohman -s 5 passwd "é…ç½®æ–‡ä»¶æ ¼å¼æ˜¯ä»€ä¹ˆï¼Ÿ"
  ohman -c /path/to/config.yaml tar "å¦‚ä½•è§£å‹ï¼Ÿ"
  ohman tar
  ohman
```

## ğŸ—ï¸ å·¥ä½œåŸç†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ohman å·¥ä½œæµç¨‹                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ç”¨æˆ·    â”‚â”€â”€â”€>â”‚  è§£æ    â”‚â”€â”€â”€>â”‚  è·å–    â”‚â”€â”€â”€>â”‚  æ„å»º    â”‚  â”‚
â”‚  â”‚  è¾“å…¥    â”‚    â”‚  å‚æ•°    â”‚    â”‚  Man     â”‚    â”‚  æç¤º    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                         â”‚              â”‚        â”‚
â”‚                                         â”‚              â–¼        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  æ¸²æŸ“    â”‚<â”€â”€â”€â”‚  è§£æ    â”‚<â”€â”€â”€â”‚  LLM     â”‚<â”€â”€â”€â”‚  å‘é€    â”‚  â”‚
â”‚  â”‚  è¾“å‡º    â”‚    â”‚  å“åº”    â”‚    â”‚  API     â”‚    â”‚  è¯·æ±‚    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é”™è¯¯æ£€æµ‹è§„åˆ™

`ohman` è‡ªåŠ¨æ£€æµ‹è¾“å…¥æ˜¯å¦ä¸ºé”™è¯¯æ¶ˆæ¯ï¼š

1. **å¤šè¡Œè¾“å…¥** - å¦‚æœç²˜è´´äº†å¤šè¡Œï¼ˆåŒ…å« `\n`ï¼‰
2. **é”™è¯¯å…³é”®è¯** - åŒ…å«å¸¸è§é”™è¯¯æŒ‡ç¤ºç¬¦ï¼š
   - `error:`, `failed`, `cannot`, `permission denied`
   - `no such file`, `command not found`
   - `segmentation fault`, `core dumped`
   - `fatal`, `exception`, `undefined`, `not found`
   - `connection refused`, `timeout`
3. **é•¿è¾“å…¥** - è¾“å…¥è¶…è¿‡ 150 å­—ç¬¦ï¼ˆå¯èƒ½æ˜¯ç²˜è´´çš„è¾“å‡ºï¼‰

### ä¼šè¯å†å²

æ‰€æœ‰ä¼šè¯è‡ªåŠ¨ä¿å­˜åˆ° `~/.config/ohman/history.json`ï¼š

- **question**: ç›´æ¥é—®ç­”
- **diagnose**: å¤±è´¥å‘½ä»¤è¯Šæ–­
- **error**: é”™è¯¯æ¶ˆæ¯åˆ†æ
- **interactive**: äº¤äº’æ¨¡å¼ä¼šè¯

æœ€å¤šä¿å­˜ 100 æ¡æœ€è¿‘è®°å½•ã€‚

## ğŸ” éšç§ä¸å®‰å…¨

- ğŸ“¤ **å‘é€çš„æ•°æ®**: ä»…å°† man é¡µé¢å†…å®¹å’Œä½ çš„é—®é¢˜å‘é€åˆ° LLM API
- ğŸ”’ **API å¯†é’¥å®‰å…¨**: API å¯†é’¥å­˜å‚¨åœ¨æœ¬åœ°é…ç½®æ–‡ä»¶ä¸­ï¼Œæƒé™ä¸º 600
- ğŸš« **æ— é¥æµ‹**: ä¸æ”¶é›†ä»»ä½•ä½¿ç”¨æ•°æ®
- ğŸ’» **æœ¬åœ°é€‰é¡¹**: æ”¯æŒä»»ä½• OpenAI å…¼å®¹çš„æœ¬åœ° LLM æœåŠ¡å™¨ï¼ˆLM Studioã€Ollama with OpenAI API ç­‰ï¼‰

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯¦è§ [CONTRIBUTING.md](CONTRIBUTING.md)ã€‚

## ğŸ“œ è®¸å¯è¯

MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

---

**Oh Man!** - å› ä¸ºè¯» man é¡µæœ¬ä¸è¯¥è¿™ä¹ˆç—›è‹¦ ğŸ‰
